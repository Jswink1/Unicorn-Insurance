@model UserMobileSuit

@{ ViewData["Title"] = Model.MobileSuit.Name; }

<div class="row">
    <a asp-controller="MobileSuitDeck" asp-action="Index" class="col-3 btn btn-info form-control btn-sm">Back to Mobile Suit Deck</a>
</div>

<div class="row">
    <h2 class="display-4">My @Model.MobileSuit.Name</h2>   
</div>

<div class="row">
    <div class="col-md-6">

        <img src="@Model.MobileSuit.ImageUrl" class="d-block w-100" />
    </div>

    <div class="col-md-6">

        <h2>Equipped Weapon</h2>
        <hr />

        @if (Model.EquippedWeapon is null)
        {
            <form method="post">
                <select asp-for="SelectedWeaponId" asp-items="Model.AvailableWeaponsList" class="form-control" onchange="submitform();">
                    <option>Equip a Weapon</option>
                </select>
            </form>
        }
        else
        {
            <form method="post">
                <select asp-for="SelectedWeaponId" asp-items="Model.AvailableWeaponsList" class="form-control" onchange="submitform();">
                    <option selected hidden>@Model.EquippedWeapon.Weapon.Name</option>
                </select>
            </form>

            <a asp-action="UnequipWeapon" asp-route-userMobileSuitId="@Model.Id" class="btn btn-danger form-control btn-square btn-lg mt-1"
               style="height:35px; font-size:15px;">Unequip Weapon</a>
        }

        <hr />

        @if (Model.CustomWeapon is not null)
        {
            <h2>Custom Weapon</h2>
            <input readonly asp-for="CustomWeapon.Weapon.Name" type="text" class="form-control" />
        }


    </div>
</div>

@section Scripts {
    <script>
        function submitform() {
            $('form').submit();
        }
    </script>
}